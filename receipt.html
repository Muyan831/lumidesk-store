<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmed | LumiDesk</title>
    <style>
        /* =========================================
           ğŸŒŸ å…¨å±€åŸºç¡€è®¾ç½® (Apple Style)
           ========================================= */
        :root {
            --bg: #ffffff; --bg-secondary: #f5f5f7; --text: #1d1d1f; --text-muted: #86868b;
            --border: #d2d2d7; --accent-green: #34c759; --glass: rgba(255, 255, 255, 0.72);
            --radius-lg: 24px; --transition: all 0.3s ease;
        }

        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif; background: var(--bg); color: var(--text); display: flex; flex-direction: column; min-height: 100vh; }
        a { text-decoration: none; cursor: pointer; }

        /* --- å¯¼èˆªæ  --- */
        nav {
            position: fixed; top: 0; width: 100%; height: 52px;
            background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 1000; border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .nav-content { max-width: 1024px; margin: 0 auto; height: 100%; display: flex; align-items: center; justify-content: space-between; padding: 0 22px; position: relative; }
        .nav-menu { display: flex; gap: 34px; position: absolute; left: 50%; transform: translateX(-50%); }
        .nav-menu a { font-size: 13px; font-weight: 500; letter-spacing: .02em; color: var(--text); opacity: 0.8; transition: opacity 0.3s ease; }
        .nav-menu a:hover { opacity: 1; }
        .nav-right { margin-left: auto; display: flex; align-items: center; gap: 20px; }
        .icon-btn { width: 20px; height: 20px; opacity: 0.7; cursor: pointer; color: var(--text); transition: 0.3s; display: block; }
        .icon-btn:hover { opacity: 1; transform: scale(1.1); }
        .bag-btn-group { display: flex; align-items: center; gap: 4px; cursor: pointer; opacity: 0.7; transition: 0.3s; }
        .bag-btn-group:hover { opacity: 1; transform: scale(1.05); }
        .cart-dot { font-size: 11px; font-weight: 700; color: var(--text); }

        /* --- æˆåŠŸæç¤ºåŒº --- */
        .success-container {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 100px 20px 60px; text-align: center; animation: fadeIn 0.8s ease;
        }

        /* ç»¿è‰²æ‰“å‹¾åŠ¨ç”» */
        .check-circle {
            width: 80px; height: 80px; border-radius: 50%; background: var(--accent-green);
            display: flex; align-items: center; justify-content: center; margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(52, 199, 89, 0.3);
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        .check-circle svg { color: white; width: 40px; height: 40px; }

        h1 { font-size: 40px; font-weight: 700; letter-spacing: -1px; margin: 0 0 15px 0; }
        .subtitle { font-size: 18px; color: var(--text-muted); margin: 0 0 40px 0; max-width: 500px; line-height: 1.5; }

        /* è®¢å•æ‘˜è¦å¡ç‰‡ */
        .order-card {
            background: var(--bg-secondary); border-radius: var(--radius-lg); padding: 30px 40px;
            width: 100%; max-width: 480px; text-align: left; margin-bottom: 40px;
        }
        .order-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 15px; }
        .order-row:last-child { margin-bottom: 0; padding-top: 15px; border-top: 1px solid var(--border); font-weight: 600; font-size: 18px; color: var(--text); }
        .row-label { color: var(--text-muted); }
        .row-value { font-weight: 500; color: var(--text); }

        /* æŒ‰é’® */
        .continue-btn {
            background: var(--text); color: white; padding: 16px 40px; border-radius: 40px;
            font-size: 16px; font-weight: 600; border: none; cursor: pointer; transition: 0.3s;
        }
        .continue-btn:hover { transform: scale(1.03); background: #000; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

        /* åŠ¨ç”» */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

        @media (max-width: 768px) { .nav-menu { display: none; } h1 { font-size: 32px; } .order-card { padding: 25px; } }
    </style>
</head>
<body id="mainBody">

<nav>
    <div class="nav-content">
        <div class="nav-menu">
            <a id="navHome">Home</a>
            <a id="navProducts">Products</a>
            <a id="navAbout">About Us</a>
            <a id="navReceipt">Receipt</a>
        </div>
        <div class="nav-right">
            <svg class="icon-btn" id="kefuBtn" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
            <div class="bag-btn-group" id="bagBtn">
                <svg class="icon-btn" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4Z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 01-8 0"></path></svg>
                <span class="cart-dot" id="cartCount">0</span>
            </div>
        </div>
    </div>
</nav>

<div class="success-container">
    <div class="check-circle">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
    </div>
    
    <h1>Order Confirmed</h1>
    <p class="subtitle">Thank you for shopping with LumiDesk. An official PDF receipt and shipping slip has been sent to your email.</p>

    <div class="order-card" id="orderCard" style="display:none;">
        <div class="order-row">
            <span class="row-label">Order Number</span>
            <span class="row-value" id="displayOrderId">LD-XXXXX</span>
        </div>
        <div class="order-row">
            <span class="row-label">Date</span>
            <span class="row-value" id="displayDate">Today</span>
        </div>
        <div class="order-row">
            <span class="row-label">Payment Status</span>
            <span class="row-value" style="color: #f39c12;">Pending Payment</span>
        </div>
        <div class="order-row">
            <span class="row-label">Total Amount</span>
            <span class="row-value">RM <span id="displayTotal">0.00</span></span>
        </div>
    </div>

    <button class="continue-btn" onclick="go(URLS.HOME)">Continue Shopping</button>
</div>

<script>
    // --- iframe ä¿®å¤ ---
    if (window.self !== window.top) { document.getElementById('mainBody').classList.add('embedded'); }

    // --- å¯¼èˆªæ è·³è½¬é€»è¾‘ ---
    const URLS = { HOME: 'index.html', PRODUCTS: 'shop.html', ABOUT: 'aboutus.html', RECEIPT: 'receipt.html', BAG: 'bag.html', KEFU: 'kefu.html' };
    function go(url) { try { window.top.location.href = url; } catch (e) { window.location.href = url; } }
    
    document.getElementById('navHome').onclick = (e) => { e.preventDefault(); go(URLS.HOME); };
    document.getElementById('navProducts').onclick = (e) => { e.preventDefault(); go(URLS.PRODUCTS); };
    document.getElementById('navAbout').onclick = (e) => { e.preventDefault(); go(URLS.ABOUT); };
    document.getElementById('navReceipt').onclick = (e) => { e.preventDefault(); go(URLS.RECEIPT); };
    document.getElementById('kefuBtn').onclick = () => go(URLS.KEFU);
    document.getElementById('bagBtn').onclick  = () => go(URLS.BAG);

    // æ›´æ–°è´­ç‰©è½¦å¾½æ ‡ï¼ˆåœ¨ Receipt é¡µé¢é€šå¸¸æ˜¯ 0ï¼Œå› ä¸ºä¹°å®Œäº†ï¼‰
    const cart = JSON.parse(localStorage.getItem('lumi_cart') || '[]');
    document.getElementById('cartCount').innerText = cart.reduce((s, i) => s + i.qty, 0);

    // ============================================================
    // ğŸ§¾ è¯»å–æœ€åä¸€æ¬¡è®¢å•æ•°æ®å¹¶æ˜¾ç¤º
    // ============================================================
    window.onload = () => {
        // ä» localStorage è·å– bag.html å­˜ä¸‹æ¥çš„è®¢å•å¿«ç…§
        const lastOrderJSON = localStorage.getItem('lumi_last_order');
        
        if (lastOrderJSON) {
            const orderData = JSON.parse(lastOrderJSON);
            
            // å¡«å……æ•°æ®
            document.getElementById('displayOrderId').innerText = orderData.id;
            
            // æ ¼å¼åŒ–æ—¥æœŸ (ä¾‹å¦‚ï¼š2026-02-17)
            const dateObj = new Date(orderData.date);
            document.getElementById('displayDate').innerText = dateObj.toLocaleDateString('en-GB'); 
            
            document.getElementById('displayTotal').innerText = orderData.total;
            
            // æ˜¾ç¤ºå¡ç‰‡
            document.getElementById('orderCard').style.display = 'block';
        } else {
            // å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼ˆæ¯”å¦‚ç”¨æˆ·ç›´æ¥è¾“å…¥ç½‘å€è¿›æ¥çš„ï¼‰ï¼Œæ˜¾ç¤ºå¤‡ç”¨æ–‡æ¡ˆ
            document.querySelector('.subtitle').innerHTML = "You have no recent orders. <br>Start building your minimal workspace today.";
        }
    };
</script>

</body>
</html>